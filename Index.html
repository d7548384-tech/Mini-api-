<!DOCTYPE html>
<html>
<head>
  <title>Mini Gemini</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    *, *::before, *::after { box-sizing: border-box; }
    body {
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0; padding: 0;
      color: #fff; display: flex;
      flex-direction: column; align-items: center;
      min-height: 100vh; overflow-x: hidden;
    }
    h2 { margin-top: 60px; font-size: 2.2rem; font-weight: 700; text-align: center; }
    h5 { margin-top: 10px; font-weight: 400; color: #d1d1d1; text-align: center; margin-bottom: 40px; }
    #answers {
      width: 90vw; max-width: 600px; padding: 25px; min-height: 150px;
      border-radius: 15px; background-color: rgba(255, 255, 255, 0.12);
      box-shadow: 0 8px 20px rgba(0,0,0,0.3); font-size: 1rem;
      line-height: 1.6; white-space: pre-wrap; margin-bottom: 30px; overflow-wrap: break-word;
    }
    .input-container, .file-container, button {
      width: 90vw; max-width: 600px; display: flex; align-items: center; margin-bottom: 20px;
    }
    .input-container i, .file-container i {
      margin-right: 12px; color: #ccc; font-size: 1.3rem; flex-shrink: 0;
    }
    input[type="text"] {
      flex: 1; padding: 14px 20px; border-radius: 25px; border: none;
      background-color: rgba(255, 255, 255, 0.2); color: #fff; font-size: 1rem; outline: none;
      transition: all 0.3s ease;
    }
    input[type="text"]::placeholder { color: #ccc; }
    input[type="text"]:focus { background-color: rgba(255, 255, 255, 0.3); box-shadow: 0 0 10px rgba(255,255,255,0.3); }
    input[type="file"] { flex: 1; font-size: 0.9rem; color: #fff; background: transparent; }
    button {
      justify-content: center; padding: 14px; border-radius: 25px; border: none;
      font-size: 1rem; font-weight: 600; color: #fff;
      background: linear-gradient(135deg, #00b09b, #96c93d); cursor: pointer;
      transition: all 0.3s ease; box-shadow: 0 6px 15px rgba(0,0,0,0.3);
    }
    button i { margin-left: 10px; }
    button:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(0,0,0,0.4); }
    @media (max-width: 480px) { #answers, .input-container, .file-container, button { width: 95vw; } }
  </style>
</head>
<body>
  <h2>How can I assist you?</h2>
  <h5>Powered by Gemini</h5>
  <div id="answers">Thinking...</div>
  <div class="input-container">
    <i class="fas fa-question"></i>
    <input id="question" type="text" placeholder="Ask anything">
  </div>
  <div class="file-container">
    <i class="fas fa-paperclip"></i>
    <input id="fileInput" type="file" accept=".txt">
  </div>
  <button id="askBtn">Ask <i class="fas fa-paper-plane"></i></button>

  <script>
    const askBtn = document.getElementById('askBtn');
    const questionInput = document.getElementById('question');
    const fileInput = document.getElementById('fileInput');
    const answersDiv = document.getElementById('answers');

    async function askGemini(question) {
      const apiKey = "AIzaSyCqf7HQEESWjEE41CqJA0Qy7fRo4jZziq4";
      const response = await fetch(
        `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKey}`,
        {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            contents: [{ parts: [{ text: question }] }]
          })
        }
      );

      if (!response.ok) throw new Error(await response.text());
      const data = await response.json();
      return data.candidates[0].content.parts[0].text;
    }

    askBtn.addEventListener('click', async () => {
      let question = questionInput.value.trim();
      const file = fileInput.files[0];
      if (!question && !file) return;
      answersDiv.textContent = 'Thinking...';
      try {
        if (file) {
          const fileText = await file.text();
          question = (question ? question + "\n\n" : "") + "File content:\n" + fileText;
        }
        const answer = await askGemini(question);
        answersDiv.textContent = answer;
      } catch (err) {
        answersDiv.textContent = 'Error: ' + err.message;
      }
    });

    questionInput.addEventListener('keypress', e => {
      if (e.key === 'Enter') askBtn.click();
    });
  </script>
</body>
</html>